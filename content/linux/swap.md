---
title: "Настройка swap"
date: 2022-10-08T20:33:35+03:00
tags: [linux, swap]
---

[Информация взята отсюда](http://kubuntu.ru/node/13153)

Обычно рано или поздно у всех возникает вопрос: "Почему начинает заполнятся swap, когда у меня ещё много свободной оперативной памяти?". И вот тут нам приходит в помощь такой параметр, как `vm.swappiness`. Для начала в консоли выполним команду:

```bash
cat /proc/sys/vm/swappiness
```

По-умолчанию результат будет **60**.

Это параметр, который контролирует количество свободной памяти, при какой загруженности у нас начнётся сброс страниц в swap. Ну, а дальше простая формула: `100% - 60% = 40%`, т.е. уже при 40% загруженной ОЗУ данные начинают активно сливаться на жёсткий диск, что, как мне кажется, не есть хорошо. Чтобы сделать так, чтобы слив начался, хотя бы, при 90% занятой памяти нужно выполнить следующее.
Сначала в конфиг `/etc/sysctl.conf` добавим запись:

```bash
vm.swappiness=10
```

Затем, дабы не перезагружать комп, выполним с правами суперпользователя команду:

```bash
sysctl -p
```

Всё. На этом настройка закончена.

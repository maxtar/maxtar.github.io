---
title: "Docker"
date: 2022-10-09T01:53:38+03:00
tags: [docker, программирование]
---

Полезная информация по [Docker](https://www.docker.com/)

## Как полностью удалить образы вместе с контейнерами

Чтобы посмотреть все контейнеры нужно выполнить команду:

```bash
docker container ls -a
```

Ключ **-a** указывает, что надо показывать все существующие контейнеры.

После того, как мы получим список образов выбираем нужный и удаляем его следующей командой:

```bash
docker container rm -v <image_name>
```

где:

* **-v** - ключ удаления связанного контейнера на диске,
* **<image_name>** - имя образа полученного, предыдущей командой.

Теперь удаляем образы.
Для получения всех образов выполняем команду:

```bash
docker images -a
```

где **-a** - ключ для показа всех образов.

Найдя нужный образ в списке удаляем его командой:

```bash
docker rmi <repository>
```

где **\<repository\>** - имя удаляемого образа.

---

## Удалить все остановленные контейнеры

```bash
docker container prune
```

[Полная документация](https://docs.docker.com/engine/reference/commandline/system_prune/)

---

## Удалить старые контейнеры

В данном примере больше недели:

```bash
 docker ps --filter "status=exited" | grep 'weeks ago' | awk '{print $1}' | xargs --no-run-if-empty docker rm
```
